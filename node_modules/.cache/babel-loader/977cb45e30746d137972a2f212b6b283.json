{"ast":null,"code":"import \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\SHYA\\\\Desktop\\\\blog\\\\src\\\\containers\\\\writing\\\\writing.jsx\",\n    _dec,\n    _class;\n\nimport React, { Component } from 'react';\nimport RichTextEditor from './rich_text_editor';\nimport { Link } from 'react-router-dom';\nimport { getSort } from '../../api';\nimport { PlusOutlined } from '@ant-design/icons';\nimport './writing.less';\nimport { connect } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet Writing = (_dec = connect(state => ({\n  user: state.userInfo\n}), {}), _dec(_class = class Writing extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showAdd: false\n    };\n\n    this.addSort = () => {\n      this.setState({\n        showAdd: !this.state.showAdd\n      });\n    };\n\n    this.valueRef = /*#__PURE__*/React.createRef();\n\n    this.submit = () => {\n      //获取输入内容\n      const value = this.valueRef.current.state.value;\n\n      if (!value) {\n        _message.info('输入不能为空！', 0.5);\n      } else {\n        console.log(value.trim() + '---'); //发送添加分类的请求\n        //清空输入框并关闭\n\n        this.setState({\n          showAdd: !this.state.showAdd\n        });\n      }\n    };\n\n    this.cancel = () => {\n      this.setState({\n        showAdd: !this.state.showAdd\n      });\n    };\n  }\n\n  //组件挂载后发送请求获取用户的分类\n  async componentDidMount() {\n    //console.log(this.props.user.id);\n    let result = await getSort(this.props.user.id);\n    console.log(result);\n\n    if (result.status === 0) {\n      const {\n        sort\n      } = result.data;\n      return sort;\n    } else {}\n  } //新建分类的回调\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"writing_div\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"writing_left\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/home\",\n          children: /*#__PURE__*/_jsxDEV(_Button, {\n            className: \"writing_left_home\",\n            type: \"primary\",\n            shape: \"round\",\n            size: \"large\",\n            ghost: \"true\",\n            children: \"\\u56DE\\u9996\\u9875\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.addSort,\n          style: {\n            color: 'white',\n            fontSize: \"15px\",\n            outline: 'none',\n            backgroundColor: 'rgb(63, 58, 58)',\n            border: 'none'\n          },\n          children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this), \"\\u65B0\\u5EFA\\u5206\\u7C7B\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: this.state.showAdd ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(_Input, {\n              ref: this.valueRef,\n              style: {\n                backgroundColor: '#595959',\n                marginTop: '10px',\n                marginBottom: '12px',\n                color: 'white'\n              },\n              placeholder: \"\\u8BF7\\u8F93\\u5165\\u5206\\u7C7B\\u540D...\",\n              maxLength: \"10\",\n              bordered: false,\n              size: \"large\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(_Button, {\n              onClick: this.submit,\n              type: \"primary\",\n              shape: \"round\",\n              size: \"middle\",\n              ghost: \"true\",\n              style: {\n                color: '\t #33cc00',\n                borderColor: '\t #33cc00'\n              },\n              children: \"\\u63D0\\u4EA4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(_Button, {\n              onClick: this.cancel,\n              style: {\n                color: '#999999',\n                marginLeft: '10px'\n              },\n              type: \"link\",\n              children: \"\\u53D6\\u6D88\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 44\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}) || _class);\nexport default Writing;","map":{"version":3,"sources":["C:/Users/SHYA/Desktop/blog/src/containers/writing/writing.jsx"],"names":["React","Component","RichTextEditor","Link","getSort","PlusOutlined","connect","Writing","state","user","userInfo","showAdd","addSort","setState","valueRef","createRef","submit","value","current","info","console","log","trim","cancel","componentDidMount","result","props","id","status","sort","data","render","color","fontSize","outline","backgroundColor","border","marginTop","marginBottom","borderColor","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport RichTextEditor from './rich_text_editor'\r\nimport {Link} from 'react-router-dom'\r\nimport {Button,Input,message} from 'antd'\r\nimport {getSort} from '../../api'\r\nimport {PlusOutlined} from '@ant-design/icons';\r\nimport './writing.less'\r\nimport { connect } from 'react-redux'\r\n\r\n@connect(\r\n    state=>({user:state.userInfo}),\r\n    {}\r\n)\r\nclass Writing extends Component {\r\n    state={\r\n        showAdd:false,\r\n    }\r\n\r\n    //组件挂载后发送请求获取用户的分类\r\n    async componentDidMount (){\r\n        //console.log(this.props.user.id);\r\n        let result = await getSort(this.props.user.id)\r\n        console.log(result)\r\n        if(result.status===0){\r\n            const {sort} = result.data\r\n            return sort\r\n        }else {}\r\n        \r\n    }\r\n\r\n    //新建分类的回调\r\n    addSort = () => {\r\n        this.setState({showAdd:!this.state.showAdd})\r\n    }\r\n    valueRef = React.createRef()\r\n    //提交按钮回调\r\n    submit = () => {\r\n        //获取输入内容\r\n        const value = this.valueRef.current.state.value\r\n        if(!value){\r\n            message.info('输入不能为空！',0.5)\r\n        }else{\r\n            console.log(value.trim()+'---');\r\n            //发送添加分类的请求\r\n            \r\n            //清空输入框并关闭\r\n            this.setState({showAdd:!this.state.showAdd})\r\n        }\r\n        \r\n    }\r\n    //取消的回调\r\n    cancel = () => {\r\n        this.setState({showAdd:!this.state.showAdd})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"writing_div\">\r\n                <div className=\"writing_left\">\r\n                    <Link to=\"/home\">\r\n                    <Button className=\"writing_left_home\" type=\"primary\" shape=\"round\"  size='large' ghost='true'>\r\n                        回首页\r\n                    </Button></Link>\r\n                    <button onClick={this.addSort}\r\n                     style={{color:'white', fontSize:\"15px\",outline:'none',backgroundColor:'rgb(63, 58, 58)',border:'none'}}>\r\n                    <PlusOutlined/>新建分类</button>\r\n                    <div>\r\n                    {\r\n                        this.state.showAdd?<div>\r\n                            <Input \r\n                            ref={this.valueRef}\r\n                            style={{backgroundColor:'#595959',marginTop:'10px',marginBottom:'12px',color:'white'}} \r\n                            placeholder=\"请输入分类名...\" \r\n                            maxLength=\"10\"\r\n                            bordered= {false}\r\n                            size='large'/>\r\n                            <Button \r\n                            onClick={this.submit}\r\n                            type=\"primary\" shape=\"round\" size='middle' ghost='true'\r\n                            style={{color:'\t #33cc00',borderColor:'\t #33cc00'}}>\r\n                            提交</Button>\r\n                            <Button onClick={this.cancel} style={{color:'#999999',marginLeft:'10px'}} type=\"link\">取消</Button>\r\n                        </div>:null\r\n                    }\r\n                    </div>\r\n                </div>\r\n                {/* <RichTextEditor/> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Writing"]},"metadata":{},"sourceType":"module"}